# ğŸ¨ DIAGRAMME VISUEL - TÃ‚CHES SOUMISES

**8 DÃ©cembre 2025**

---

## ğŸ”´ FLUX ACTUEL (AVEC PROBLÃˆME)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      EMPLOYÃ‰ SOUMET                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  POST /api/taches                                                â”‚
â”‚  â€¢ Titre: "TÃ¢che Test"                                           â”‚
â”‚  â€¢ Statut: SOUMISE âœ“                                             â”‚
â”‚  â€¢ AssigneA: NULL (pas assignÃ©)                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  BDD: Tache crÃ©Ã©e                                                â”‚
â”‚  â€¢ id: cmix7jfvr0000...                                          â”‚
â”‚  â€¢ titre: "TÃ¢che Test"                                           â”‚
â”‚  â€¢ statut: SOUMISE âœ“                                             â”‚
â”‚  â€¢ assigneAId: NULL âœ“                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    MANAGER OUVRE KANBAN                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  GET /api/taches (Manager)                                       â”‚
â”‚  â€¢ Condition: role !== 'EMPLOYE' â†’ Retourner TOUTES              â”‚
â”‚  â€¢ Doit retourner: SOUMISE tÃ¢che âœ“                               â”‚
â”‚  âŒ MAIS: TÃ¢che n'apparaÃ®t pas au manager                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  KANBAN Frontend (/app/kanban/page.tsx)                          â”‚
â”‚  â€¢ ReÃ§oit JSON avec tÃ¢ches                                       â”‚
â”‚  â€¢ mapStatus('SOUMISE') â†’ 'submitted' âœ“                          â”‚
â”‚  â€¢ Filter: status === 'submitted'                                â”‚
â”‚  âŒ MAIS: TÃ¢che N'APPARAÃT PAS Ã  l'Ã©cran                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âŒ PAGE KANBAN: ONGLET "TÃ¢ches soumises"                        â”‚
â”‚  â€¢ Stat "Soumises": 0                                            â”‚
â”‚  â€¢ Table: VIDE (tÃ¢che pas visible)                               â”‚
â”‚  â€¢ Manager ne peut pas valider/rejeter                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âœ… FLUX ATTENDU (CORRECT)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      EMPLOYÃ‰ SOUMET                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  POST /api/taches                                                â”‚
â”‚  â€¢ Statut: SOUMISE âœ“                                             â”‚
â”‚  â€¢ AssigneA: NULL (pas assignÃ©) âœ“                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  BDD: Tache crÃ©Ã©e âœ“                                              â”‚
â”‚  statut: SOUMISE, assigneAId: NULL                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    MANAGER OUVRE KANBAN                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  GET /api/taches (Manager) âœ“                                     â”‚
â”‚  â€¢ Retourne TOUTES les tÃ¢ches                                    â”‚
â”‚  â€¢ Inclus: TÃ¢che SOUMISE                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  KANBAN Frontend âœ“                                               â”‚
â”‚  â€¢ ReÃ§oit: [{ titre: "...", statut: "SOUMISE" }, ...]           â”‚
â”‚  â€¢ Mappe: SOUMISE â†’ 'submitted'                                  â”‚
â”‚  â€¢ Filtre: status === 'submitted' â†’ Inclus                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âœ… PAGE KANBAN: ONGLET "TÃ¢ches soumises"                        â”‚
â”‚  â€¢ Stat "Soumises": 1                                            â”‚
â”‚  â€¢ Table: Affiche la tÃ¢che                                       â”‚
â”‚  â€¢ Manager peut cliquer                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Manager clique sur la tÃ¢che                                     â”‚
â”‚  â€¢ Modal s'ouvre                                                 â”‚
â”‚  â€¢ DÃ©tails visibles                                              â”‚
â”‚  â€¢ Peut ajouter commentaire                                      â”‚
â”‚  â€¢ Peut cliquer "Valider" ou "Rejeter"                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âœ… STATUT CHANGE                                                 â”‚
â”‚  â€¢ SOUMISE â†’ TERMINE (validation)                                â”‚
â”‚  â€¢ SOUMISE â†’ ANNULE (rejet)                                      â”‚
â”‚  â€¢ Email envoyÃ© Ã  l'employÃ©                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” POINTS DE BLOCAGE POSSIBLES

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                    â”‚
â”‚  POINT 1: GET /api/taches ne retourne pas tÃ¢che  â”‚
â”‚  â”œâ”€ ProbabilitÃ©: 30%                              â”‚
â”‚  â”œâ”€ Cause: Filtre incorrect                       â”‚
â”‚  â””â”€ Fix: VÃ©rifier le WHERE clause                 â”‚
â”‚                                                    â”‚
â”‚  POINT 2: Kanban reÃ§oit tÃ¢che mais mappage KO    â”‚
â”‚  â”œâ”€ ProbabilitÃ©: 50%                              â”‚
â”‚  â”œâ”€ Cause: mapStatus() ou filtre incorrect        â”‚
â”‚  â””â”€ Fix: VÃ©rifier mapStatus('SOUMISE')            â”‚
â”‚                                                    â”‚
â”‚  POINT 3: Affichage ne montre pas la tÃ¢che       â”‚
â”‚  â”œâ”€ ProbabilitÃ©: 20%                              â”‚
â”‚  â”œâ”€ Cause: CSS, DOM, ou filtre frontend           â”‚
â”‚  â””â”€ Fix: VÃ©rifier DevTools                        â”‚
â”‚                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ› ï¸ LOGS DE DEBUG AJOUTÃ‰S

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                    â”‚
â”‚  ğŸ“‹ Logs Backend (/api/taches/route.ts)           â”‚
â”‚  â”œâ”€ Ligne 10: User role                           â”‚
â”‚  â”œâ”€ Ligne 15: Filtre appliquÃ©                     â”‚
â”‚  â”œâ”€ Ligne 24: Total tasks returned                â”‚
â”‚  â””â”€ Ligne 25: Task statuses                       â”‚
â”‚                                                    â”‚
â”‚  ğŸ“Š Logs Frontend (/app/kanban/page.tsx)          â”‚
â”‚  â”œâ”€ Ligne 80: TÃ¢ches rÃ©cupÃ©rÃ©es                   â”‚
â”‚  â”œâ”€ Ligne 81: Raw statuts                         â”‚
â”‚  â”œâ”€ Ligne 92: TÃ¢ches mappÃ©es                      â”‚
â”‚  â””â”€ Ligne 93: Tasks with SOUMISE status           â”‚
â”‚                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š EXEMPLE DE LOGS ATTENDUS

### âœ… Cas OK (Logs visibles)

**Serveur:**
```
ğŸ“‹ [GET /api/taches] User role: MANAGER
ğŸ“‹ [GET /api/taches] Filtre MANAGER/ADMIN - Returning ALL tasks
ğŸ“‹ [GET /api/taches] Total tasks returned: 5
ğŸ“‹ [GET /api/taches] Task statuses: ...TEST_SOUMISE(SOUMISE)...
```

**Browser:**
```
ğŸ“Š [Kanban] TÃ¢ches rÃ©cupÃ©rÃ©es: 5
ğŸ“Š [Kanban] Raw statuts: ...TEST_SOUMISE(SOUMISE)...
ğŸ“Š [Kanban] TÃ¢ches mappÃ©es: ...TEST_SOUMISE(submitted)...
ğŸ“Š [Kanban] Tasks with SOUMISE status: 1
```

### âŒ Cas KO (Logs manquants/0)

**Serveur:**
```
ğŸ“‹ [GET /api/taches] Total tasks returned: 0
(La tÃ¢che SOUMISE N'EST PAS retournÃ©e)
```

**Ou Browser:**
```
ğŸ“Š [Kanban] Tasks with SOUMISE status: 0
(La tÃ¢che n'a pas Ã©tÃ© mappÃ©e)
```

---

## ğŸ§© COMPOSANTS IMPLIQUÃ‰S

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                              â”‚
â”‚  1. SubmitTaskForm.tsx                       â”‚
â”‚     â””â”€ CrÃ©e tÃ¢che avec statut SOUMISE       â”‚
â”‚                                              â”‚
â”‚  2. /api/taches/route.ts                     â”‚
â”‚     â”œâ”€ POST: Sauve la tÃ¢che                  â”‚
â”‚     â””â”€ GET: Retourne les tÃ¢ches              â”‚
â”‚                                              â”‚
â”‚  3. /kanban/page.tsx                         â”‚
â”‚     â”œâ”€ Fetch /api/taches                     â”‚
â”‚     â”œâ”€ mapStatus() â†’ Mappe SOUMISE           â”‚
â”‚     â”œâ”€ Filter â†’ Filtre par status            â”‚
â”‚     â””â”€ Render â†’ Affiche la tÃ¢che             â”‚
â”‚                                              â”‚
â”‚  4. BDD (Prisma)                             â”‚
â”‚     â””â”€ Stocke les tÃ¢ches                     â”‚
â”‚                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ CYCLE DE VIE D'UNE TÃ‚CHE SOUMISE

```
1. CRÃ‰ATION (Frontend)
   â””â”€ SubmitTaskForm.tsx
      â””â”€ POST /api/taches

2. VALIDATION (Backend)
   â””â”€ /api/taches/route.ts
      â””â”€ VÃ©rifie les champs
      â””â”€ Sauve en BDD

3. STOCKAGE (BDD)
   â””â”€ Tache: id, titre, statut='SOUMISE', assigneAId=NULL

4. RÃ‰CUPÃ‰RATION (Manager)
   â””â”€ GET /api/taches
      â””â”€ Retourne toutes les tÃ¢ches
      âŒ INCLUS la tÃ¢che SOUMISE?

5. AFFICHAGE (Frontend)
   â””â”€ Kanban reÃ§oit les donnÃ©es
   â””â”€ mapStatus('SOUMISE') â†’ 'submitted'
   â””â”€ Filtre: status === 'submitted'
   âŒ AFFICHÃ‰E Ã  l'Ã©cran?

6. INTERACTION (Manager)
   â””â”€ Clic sur la tÃ¢che
   â””â”€ Modal s'ouvre
   â””â”€ Peut valider/rejeter
```

---

## ğŸ¯ SOLUTION PAR Ã‰TAPE

```
Ã‰TAPE 1: Soumettre une tÃ¢che
â””â”€ Chercher logs: "Soumission rÃ©ussie"

Ã‰TAPE 2: VÃ©rifier en BDD
â””â”€ Chercher: statut = 'SOUMISE', assigneAId = NULL

Ã‰TAPE 3: Tester GET /api/taches
â””â”€ Chercher logs: ğŸ“‹ Task statuses: ...(SOUMISE)...

Ã‰TAPE 4: Tester Kanban mapping
â””â”€ Chercher logs: ğŸ“Š Tasks with SOUMISE status: 1

Ã‰TAPE 5: VÃ©rifier affichage
â””â”€ Voir la tÃ¢che dans l'onglet "TÃ¢ches soumises"

Ã‰TAPE 6: Cliquer et valider
â””â”€ Modal doit s'ouvrir
â””â”€ Pouvoir ajouter commentaire
â””â”€ Pouvoir valider/rejeter
```

---

## ğŸ“ˆ PROGRESSION DU DEBUG

```
0%  â”œâ”€ DÃ©but
    â”‚
25% â”œâ”€ TÃ¢che crÃ©Ã©e en BDD âœ“
    â”‚
50% â”œâ”€ GET /api/taches fonctionne âœ“
    â”‚
75% â”œâ”€ Kanban reÃ§oit et mappe âœ“
    â”‚
100%â””â”€ TÃ¢che visible et fonctionnelle âœ“
```

---

## ğŸ­ RÃ”LES ET PERMISSIONS

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                              â”‚
â”‚  EMPLOYÃ‰:                                    â”‚
â”‚  â”œâ”€ Peut soumettre une tÃ¢che                 â”‚
â”‚  â”œâ”€ ReÃ§oit notif quand assignÃ©               â”‚
â”‚  â”œâ”€ Voit ses tÃ¢ches assignÃ©es                â”‚
â”‚  â””â”€ /api/taches retourne ASSIGNEES           â”‚
â”‚                                              â”‚
â”‚  MANAGER:                                    â”‚
â”‚  â”œâ”€ Peut voir TOUTES les tÃ¢ches              â”‚
â”‚  â”œâ”€ Peut voir les tÃ¢ches SOUMISES            â”‚
â”‚  â”œâ”€ Peut valider/rejeter                     â”‚
â”‚  â””â”€ /api/taches retourne TOUTES              â”‚
â”‚                                              â”‚
â”‚  ADMIN:                                      â”‚
â”‚  â”œâ”€ MÃªme permissions que manager             â”‚
â”‚  â””â”€ /api/taches retourne TOUTES              â”‚
â”‚                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âœ¨ RÃ‰SUMÃ‰ VISUEL

```
âŒ AVANT (ProblÃ¨me)                âœ… APRÃˆS (CorrigÃ©)
â”œâ”€ EmployÃ© soumet                 â”œâ”€ EmployÃ© soumet
â”œâ”€ TÃ¢che crÃ©Ã©e en BDD             â”œâ”€ TÃ¢che crÃ©Ã©e en BDD
â”œâ”€ GET /api/taches                â”œâ”€ GET /api/taches
â”œâ”€ Kanban reÃ§oit JSON             â”œâ”€ Kanban reÃ§oit JSON
â”œâ”€ Mappage statut OK              â”œâ”€ Mappage statut OK
â”œâ”€ Filtre OK                       â”œâ”€ Filtre OK
â”œâ”€ âŒ PAS VISIBLE                  â”œâ”€ âœ… VISIBLE
â”œâ”€ Manager ne peut pas clicker    â”œâ”€ Manager peut clicker
â””â”€ Pas de validation              â””â”€ Validation OK
```

---

**CrÃ©Ã©:** 8 DÃ©cembre 2025  
**Format:** Diagrammes visuels ASCII

